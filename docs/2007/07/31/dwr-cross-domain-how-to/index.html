<!DOCTYPE html>
<html lang="es-es">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.74.3" />

    
    
    

<title>DWR Cross Domain How to • Nubeblog</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="DWR Cross Domain How to"/>
<meta name="twitter:description" content="DWR is the most popular framework to develop AJAX-style Web Applications in Java. It’s very mature and you can rarely find bugs or unexpected behaviours. I have been performing some tests with DWR in an environment without standard java server-side code (JSPs, JSFs, Servlets and web frameworks like Struts, Webwork…). All the code was static HTML, javascript and DWR dynamically generated javascript. The static content was served by Apache, and DWR code was served by Tomcat."/>

<meta property="og:title" content="DWR Cross Domain How to" />
<meta property="og:description" content="DWR is the most popular framework to develop AJAX-style Web Applications in Java. It’s very mature and you can rarely find bugs or unexpected behaviours. I have been performing some tests with DWR in an environment without standard java server-side code (JSPs, JSFs, Servlets and web frameworks like Struts, Webwork…). All the code was static HTML, javascript and DWR dynamically generated javascript. The static content was served by Apache, and DWR code was served by Tomcat." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nubeblog.com/2007/07/31/dwr-cross-domain-how-to/" />
<meta property="article:published_time" content="2007-07-31T18:04:00+00:00" />
<meta property="article:modified_time" content="2007-07-31T18:04:00+00:00" />


    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700|Source+Code+Pro:400,400i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@150,300&display=swap" rel="stylesheet">

    






<link rel="stylesheet" href="/scss/hyde-hyde.b2405b2542706431a038277d44dae5be8706d39d4333e5210dd1fec46c7bc419.css" integrity="sha256-skBbJUJwZDGgOCd9RNrlvocG051DM&#43;UhDdH&#43;xGx7xBk=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://nubeblog.com/">Nubeblog</a>
      </span>
      
      
        <div class="author-image">
          <img src="https://www.gravatar.com/avatar/2ad5d745c68bccc10421efde22f0f09b?s=240&d=mp" class="img--circle img--headshot element--center" alt="gravatar">
        </div>
      
      <p class="site__description">
         Señor de Logroño que hace cosas con ordenadores y programas. 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Nubeblog</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/post/">
						<span> Todos Los Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://www.linkedin.com/in/diegoparrilla/">
						<span>About Me</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://www.linkedin.com/in/diegoparrilla/">
						<span>Sobre Mi</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/nubeblog" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://facebook.com/dparrilla" rel="me"><i class="fab fa-facebook-f"></i></a>
	
	
	<a href="https://github.com/diegoparrilla" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/diegoparrilla" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>DWR Cross Domain How to</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jul 31, 2007
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="/categories/uncategorized">UNCATEGORIZED</a>
              
          
      
    
    
    
    <br/>
    <i class="fas fa-clock"></i> 2 min read
</div>


  </header>
  
  
  <div class="post">
    <!-- raw HTML omitted -->
<p><a href="http://getahead.org/dwr" title="DWR">DWR</a> is the most popular framework to develop AJAX-style Web Applications in Java. It’s very mature and you can rarely find bugs or unexpected behaviours. I have been performing some tests with DWR in an environment without standard java server-side code (JSPs, JSFs, Servlets and web frameworks like Struts, Webwork…). All the code was static HTML, javascript and DWR dynamically generated javascript. The static content was served by Apache, and DWR code was served by Tomcat. Nothing shocking. But I did not want to use mod_jk or mod_proxy to serve Tomcat through Apache. So I assigned different names to the servers as follows:</p>
<ul>
<li>Apache: static.myexample.com</li>
<li>Tomcat: dynamic.myexample.com</li>
</ul>
<p>Cross domain is always an issue and DWR claims it can manage it, but it’s not easy because there is not enough information about how to do it. Let’s start with the different remoting schemas:</p>
<ul>
<li>XMLHttpRequest: Works in most cases.</li>
<li>IFrame: Use it if you don’t have activeX enabled (DWR detects it automatically…)</li>
<li>ScriptTag: New in version 2.0, bypass cross-domain restrictions. ScriptTag is a must if you want a cross domain environment, so I will use it.</li>
</ul>
<p>ScriptTag needs some extra configuration in the web.xml file to relax the security restrictions of the DWR framework:<br>
<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<pre><code>    &lt;param-name /&gt;
    debug&lt;/param-name&gt;&lt;/span&gt;
    &lt;span style=&quot;font-size:85%;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;;font-family:Courier New;font-size:85%;&quot;&gt; 
    
    &lt;param-value /&gt;
    false&lt;/param-value&gt;&lt;/span&gt;
    &lt;span style=&quot;font-size:85%;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;;font-family:Courier New;font-size:85%;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-size:85%;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 255);font-size:85%;&quot;&gt;&lt;span style=&quot;font-family:Courier New;&quot;&gt; &lt;init-param&gt;&lt;/init-param&gt;&lt;/span&gt; &lt;span style=&quot;font-family:Courier New;&quot;&gt; 
    
    &lt;param-name /&gt;
    crossDomainSessionSecurity&lt;/param-name&gt;&lt;/span&gt; 
    &lt;span style=&quot;font-family:Courier New;&quot;&gt; 
    
    &lt;param-value /&gt;
    false&lt;/param-value&gt;&lt;/span&gt; 
    &lt;span style=&quot;font-family:Courier New;&quot;&gt; &lt;/span&gt; &lt;span style=&quot;font-family:Courier New;&quot;&gt; &lt;init-param&gt;&lt;/init-param&gt;&lt;/span&gt; &lt;span style=&quot;font-family:Courier New;&quot;&gt; 
    
    &lt;param-name /&gt;
    allowGetForSafariButMakeForgeryEasier&lt;/param-name&gt;&lt;/span&gt; 
    &lt;span style=&quot;font-family:Courier New;&quot;&gt; 
    
    &lt;param-value /&gt;
    true&lt;/param-value&gt;&lt;/span&gt; 
    &lt;span style=&quot;font-family:Courier New;&quot;&gt; &lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size:85%;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;;font-family:Courier New;font-size:85%;&quot;&gt; &lt;/span&gt;
  &lt;/td&gt;
&lt;/tr&gt;
</code></pre>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><br>
crossDomainSessionSecurity restricts cross domain remote access if true, and allowGetForSafariButMakeForgeryEasier seems to be mandatory when using the remoting ScriptTag schema. As you can read, I’m using Spring as the DWR Servlet, but you can ignore it and use the default DWR Servlet.</p>
<p>And here comes the most painful part of the configuration: how can I pass to the DWR javascript client where is the new remote server? No… there is no method to do this! Digging into the code generated by DWR, there is a javascript variable called:</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><br>
You must pass here the URL where DWR is listening. In our example:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><br>
By default, the remoting schema is XMLHttpRequest, but we need to use the ScriptTag schema. So don’t forget to add the Rpc Type as follows:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->So, the code should look like this:<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<pre><code>&lt;p&gt;
  &lt;span style=&quot;font-family:Courier New;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family:Courier New;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family:Courier New;&quot;&gt;&lt;/span&gt;&lt;/div&gt;
</code></pre>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/2007/07/30/myfrienemies-craziest-social-network/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Myfrienemies: craziest social network?</span>
    </a>
    
    
    <a href="/2007/08/06/managers-if-you-cant-code-dont-apply-for-this-job/" class="navigation-next">
      <span class="navigation-tittle">Managers: if you can&amp;#8217;t code don&amp;#8217;t apply for this job</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  




  
    


</article>


        </div>
        
    

  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-5807955-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/all.js" integrity="sha384-b3ua1l97aVGAPEIe48b4TC60WUQbQaGi2jqAWM90y0OZXZeyaTCWtBTKtjW2GXG1" crossorigin="anonymous"></script>




    



    </body>
</html>
